steps:
        - task: AzureResourceGroupDeployment@2
          displayName: 'Azure Deployment:Create Or Update Resource Group action on $(managementResourceGroupName)'
          inputs:
            azureSubscription: 'Theatreers Dev AzureDevOps ServPrin'
            resourceGroupName: '$(managementResourceGroupName)'
            location: '$(region)'
            csmFile: '$(System.DefaultWorkingDirectory)/arm-templates/storageAccount.json'
            overrideParameters: '-accountName $(managementStorageAccountName)'
        - task: AzureFileCopy@1
          displayName: 'Copy ARM Templates to Blob Storage'
          inputs:
            SourcePath: '$(System.DefaultWorkingDirectory)/arm-templates'
            azureSubscription: 'Theatreers Dev AzureDevOps ServPrin'
            Destination: AzureBlob
            storage: '$(managementStorageAccountName)'
            ContainerName: templates
            outputStorageUri: templateContainerUri
            outputStorageContainerSasToken: templateContainerSasToken
        - task: AzureResourceGroupDeployment@2
          displayName: 'Azure Deployment:Create Or Update Resource Group action on $(resourceGroupName) copy'
          inputs:
            azureSubscription: 'Theatreers Dev AzureDevOps ServPrin'
            resourceGroupName: '$(resourceGroupName)'
            location: '$(region)'
            csmFile: '$(System.DefaultWorkingDirectory)/arm-templates/coreResourceGroupRegional.json'
            overrideParameters: '-templateContainerUri $(templateContainerUri) -templateContainerSasToken $(templateContainerSasToken) -namingPrefix $(namingPrefix)'